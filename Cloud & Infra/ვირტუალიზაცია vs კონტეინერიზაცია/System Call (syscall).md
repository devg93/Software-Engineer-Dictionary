
рЃФрЃљрЃџрЃўрЃљрЃю рЃЏрЃљрЃњрЃљрЃарЃўрЃљ ­ЪЉЈ Рђћ рЃљрЃ«рЃџрЃљ рЃБрЃЎрЃЋрЃћ рЃњрЃљрЃЊрЃљрЃЋрЃЊрЃўрЃЋрЃљрЃарЃЌ рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃАрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃЮ рЃЊрЃљ рЃбрЃћрЃЦрЃюрЃўрЃЎрЃБрЃа рЃюрЃљрЃгрЃўрЃџрЃќрЃћ:  
**рЃарЃЮрЃњрЃЮрЃа рЃћрЃАрЃљрЃБрЃЉрЃарЃћрЃЉрЃљ рЃерЃћрЃюрЃў рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃљ Kernel-рЃА рЃарЃћрЃљрЃџрЃБрЃарЃљрЃЊ Рђћ рЃљрЃАрЃћрЃЏрЃЉрЃџрЃћрЃарЃўрЃАрЃљ рЃЊрЃљ CPU рЃЊрЃЮрЃюрЃћрЃќрЃћ.**  
рЃћрЃА рЃљрЃарЃўрЃА рЃЎрЃЮрЃЏрЃърЃўрЃБрЃбрЃћрЃарЃБрЃџрЃў рЃАрЃўрЃАрЃбрЃћрЃЏрЃћрЃЉрЃўрЃА рЃюрЃћрЃарЃЋрЃБрЃџрЃў рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ, рЃћ.рЃг. **System Call Mechanism**.

---

## ­ЪДа рЃарЃљ рЃљрЃарЃўрЃА System Call (syscall)

рЃарЃЮрЃфрЃљ рЃерЃћрЃюрЃў рЃърЃарЃЮрЃњрЃарЃљрЃЏрЃљ (рЃЏрЃљрЃњ. C#, Python, рЃљрЃю Java) рЃБрЃюрЃЊрЃљ рЃерЃћрЃћрЃ«рЃЮрЃА рЃ░рЃљрЃарЃЊрЃЋрЃћрЃарЃА Рђћ  
рЃўрЃА рЃљрЃЏрЃљрЃА рЃљрЃа рЃљрЃЎрЃћрЃЌрЃћрЃЉрЃА рЃърЃўрЃарЃЊрЃљрЃърЃўрЃа, рЃљрЃарЃљрЃЏрЃћрЃЊ "рЃЌрЃ«рЃЮрЃЋрЃюрЃўрЃЌ" рЃЏрЃўрЃЏрЃљрЃарЃЌрЃљрЃЋрЃА Kernel-рЃА.

> Kernel-рЃЏрЃЊрЃћ рЃЏрЃўрЃАрЃљрЃАрЃЋрЃџрЃћрЃџрЃў "рЃЎрЃљрЃарЃўрЃЉрЃГрЃћрЃљ" Рєњ **System Call (syscall)**

---

## ­Ъћ╣ рЃўрЃћрЃарЃљрЃарЃЦрЃўрЃљ

рЃљрЃў, рЃарЃЮрЃњрЃЮрЃа рЃЏрЃЮрЃФрЃарЃљрЃЮрЃЉрЃА рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃљ:

```
[ рЃерЃћрЃюрЃў рЃЎрЃЮрЃЊрЃў (.NET, Python, etc.) ]
    РєЊ
[ Runtime / Library (glibc, .NET runtime) ]
    РєЊ
[ System Call Interface (syscalls) ]
    РєЊ
[ Kernel ]
    РєЊ
[ Device Driver / Hardware ]
```

---

## ­ЪћЇ рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃў Рђћ рЃцрЃљрЃўрЃџрЃерЃў рЃЕрЃљрЃгрЃћрЃарЃљ

рЃЊрЃљрЃЋрЃБрЃерЃЋрЃљрЃЌ рЃерЃћрЃюрЃА C рЃЎрЃЮрЃЊрЃерЃў рЃњрЃљрЃЦрЃЋрЃА:

```c
write(fd, "Hello", 5);
```

рЃћрЃА рЃћрЃарЃЌрЃЉрЃљрЃерЃљрЃЊ рЃљрЃа рЃгрЃћрЃарЃА рЃцрЃљрЃўрЃџрЃА!  
рЃАрЃўрЃюрЃљрЃЏрЃЊрЃЋрЃўрЃџрЃћрЃерЃў рЃ«рЃЊрЃћрЃЉрЃљ рЃерЃћрЃЏрЃЊрЃћрЃњрЃў:

1. `write()` рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ рЃњрЃљрЃбрЃљрЃарЃЊрЃћрЃЉрЃљ glibc-рЃерЃў (User Space Library)
    
2. glibc рЃњрЃљрЃЏрЃЮрЃўрЃФрЃљрЃ«рЃћрЃЉрЃА System Call-рЃА Рєњ `sys_write`
    
3. CPU-рЃА рЃАрЃърЃћрЃфрЃўрЃљрЃџрЃБрЃарЃў рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃљ (interrupt рЃљрЃю syscall) рЃњрЃљрЃЊрЃљрЃЊрЃўрЃА Kernel-рЃерЃў
    
4. Kernel рЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃА рЃБрЃцрЃџрЃћрЃЉрЃћрЃЉрЃА, рЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃА I/O рЃЮрЃърЃћрЃарЃљрЃфрЃўрЃљрЃА
    
5. Kernel рЃБрЃЉрЃарЃБрЃюрЃћрЃЉрЃА рЃерЃћрЃЊрЃћрЃњрЃА User Space-рЃА
    

---

## РџЎ№ИЈ CPU рЃЊрЃЮрЃюрЃћрЃќрЃћ Рђћ рЃарЃЮрЃњрЃЮрЃа рЃњрЃљрЃЊрЃљрЃЊрЃўрЃА Kernel-рЃерЃў

### ­ЪДЕ рЃФрЃЋрЃћрЃџрЃў рЃЏрЃћрЃЌрЃЮрЃЊрЃў (x86, Linux 2.x):

`int 0x80` Рђћ software interrupt.

```asm
mov eax, 4        ; syscall number (4 = sys_write)
mov ebx, 1        ; file descriptor (stdout)
mov ecx, msg      ; pointer to message
mov edx, 5        ; length
int 0x80          ; interrupt Рєњ CPU jumps to Kernel mode
```

CPU рЃњрЃљрЃЊрЃљрЃЊрЃўрЃА Kernel Mode-рЃерЃў (ring 0).  
Linux Kernel рЃўрЃдрЃћрЃЉрЃА рЃЎрЃЮрЃюрЃбрЃарЃЮрЃџрЃА, рЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃА рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃљрЃА, рЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃА рЃерЃћрЃЊрЃћрЃњрЃА.

---

### РџЎ№ИЈ рЃЌрЃљрЃюрЃљрЃЏрЃћрЃЊрЃарЃЮрЃЋрЃћ рЃЏрЃћрЃЌрЃЮрЃЊрЃў (x86_64, Linux 3+):

`syscall` рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃљ (рЃАрЃгрЃарЃљрЃцрЃў рЃњрЃќрЃљ).

```asm
mov rax, 1        ; syscall number (1 = sys_write)
mov rdi, 1        ; file descriptor
mov rsi, msg      ; buffer address
mov rdx, 5        ; length
syscall           ; invoke kernel directly
```

> `syscall` = рЃАрЃгрЃарЃљрЃцрЃў "рЃњрЃљрЃАрЃљрЃАрЃЋрЃџрЃћрЃџрЃў рЃЎрЃљрЃарЃў" user space-рЃЊрЃљрЃю kernel space-рЃерЃў.

CPU рЃўрЃфрЃЋрЃџрЃўрЃА рЃЎрЃЮрЃюрЃбрЃћрЃЦрЃАрЃбрЃА:

- User Рєњ Kernel
    
- Stack Pointer рЃўрЃфрЃЋрЃџрЃћрЃЉрЃљ
    
- Privilege Level (Ring 3 Рєњ Ring 0) рЃўрЃфрЃЋрЃџрЃћрЃЉрЃљ
    
- Kernel рЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃА рЃЎрЃЮрЃЊрЃА supervisor рЃБрЃцрЃџрЃћрЃЉрЃћрЃЉрЃўрЃЌ
    

---

## ­Ъћљ рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮрЃћрЃЉрЃўрЃА рЃарЃЮрЃџрЃў

рЃарЃљрЃЊрЃњрЃљрЃю рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ Kernel-рЃА рЃљрЃЦрЃЋрЃА **Full Hardware Access**,  
рЃћрЃА РђюрЃњрЃљрЃЊрЃљрЃ«рЃбрЃЮрЃЏрЃљРђЮ рЃЎрЃЮрЃюрЃбрЃарЃЮрЃџрЃўрЃарЃћрЃЉрЃБрЃџрЃўрЃљ:

- рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃљрЃА рЃљрЃа рЃерЃћрЃБрЃФрЃџрЃўрЃљ рЃърЃўрЃарЃЊрЃљрЃърЃўрЃа рЃЊрЃљрЃгрЃћрЃарЃЮрЃА рЃЊрЃўрЃАрЃЎрЃќрЃћ
    
- Kernel рЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃА, рЃљрЃЦрЃЋрЃА рЃЌрЃБ рЃљрЃарЃљ рЃърЃарЃЮрЃњрЃарЃљрЃЏрЃљрЃА рЃгрЃЋрЃЊрЃЮрЃЏрЃўрЃА рЃБрЃцрЃџрЃћрЃЉрЃљ
    

> рЃћрЃА рЃљрЃарЃўрЃА рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃЏрЃўрЃќрЃћрЃќрЃў, рЃарЃљрЃбрЃЮрЃЏрЃљрЃф Linux/Windows рЃЋрЃћрЃа РђърЃњрЃљрЃбрЃДрЃЊрЃћрЃЉрЃљРђю рЃЏрЃљрЃарЃбрЃўрЃЋрЃљрЃЊ РђЊ  
> рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃў рЃБрЃюрЃЊрЃљ рЃњрЃљрЃўрЃљрЃарЃЮрЃА System Call API-рЃА рЃњрЃљрЃЋрЃџрЃўрЃЌ.

---

## ­ЪДЕ System Call Number Table (Linux рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃў)

Linux-рЃерЃў рЃЌрЃўрЃЌрЃЮ system call-рЃА рЃБрЃюрЃўрЃЎрЃљрЃџрЃБрЃарЃў рЃюрЃЮрЃЏрЃћрЃарЃў рЃљрЃЦрЃЋрЃА (arch/syscalls.h):

|рЃюрЃЮрЃЏрЃћрЃарЃў|рЃАрЃљрЃ«рЃћрЃџрЃў|рЃљрЃдрЃгрЃћрЃарЃљ|
|---|---|---|
|0|`sys_read`|рЃцрЃљрЃўрЃџрЃўрЃЊрЃљрЃю рЃЎрЃўрЃЌрЃ«рЃЋрЃљ|
|1|`sys_write`|рЃцрЃљрЃўрЃџрЃерЃў рЃЕрЃљрЃгрЃћрЃарЃљ|
|2|`sys_open`|рЃцрЃљрЃўрЃџрЃўрЃА рЃњрЃљрЃ«рЃАрЃюрЃљ|
|3|`sys_close`|рЃцрЃљрЃўрЃџрЃўрЃА рЃЊрЃљрЃ«рЃБрЃарЃЋрЃљ|
|60|`sys_exit`|рЃърЃарЃЮрЃфрЃћрЃАрЃўрЃА рЃЊрЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃљ|

---

## ­ЪДЕ рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃў рЃарЃћрЃљрЃџрЃБрЃа .NET рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃљрЃерЃў

рЃарЃЮрЃфрЃљ .NET-рЃерЃў рЃгрЃћрЃа:

```csharp
File.WriteAllText("test.txt", "Hello");
```

рЃЏрЃЮрЃЏрЃЊрЃўрЃюрЃљрЃарЃћрЃЮрЃЉрЃА рЃљрЃАрЃћрЃЌрЃў рЃ»рЃљрЃГрЃЋрЃў:

```
C# Рєњ System.IO.FileStream Рєњ libc write() Рєњ sys_write Рєњ Kernel Рєњ Disk Driver
```

рЃљрЃюрЃБ рЃћрЃарЃЌрЃў .NET рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃљ рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ Kernel-рЃерЃў рЃарЃљрЃЏрЃЊрЃћрЃюрЃўрЃЏрЃћ system call-рЃА рЃњрЃљрЃЏрЃЮрЃўрЃгрЃЋрЃћрЃЋрЃА:

- `sys_open`
    
- `sys_write`
    
- `sys_close`
    

---

## ­Ъћё Context Switch

рЃарЃЮрЃфрЃљ syscall рЃ«рЃЊрЃћрЃЉрЃљ:

- CPU рЃњрЃљрЃЊрЃљрЃЊрЃўрЃА **Kernel Mode-рЃерЃў**
    
- рЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃА privileged рЃЮрЃърЃћрЃарЃљрЃфрЃўрЃћрЃЉрЃА
    
- рЃерЃћрЃЏрЃЊрЃћрЃњ рЃЉрЃарЃБрЃюрЃЊрЃћрЃЉрЃљ **User Mode-рЃерЃў**
    

рЃћрЃА рЃћрЃгрЃЮрЃЊрЃћрЃЉрЃљ **context switch**, рЃЊрЃљ рЃћрЃА рЃърЃарЃЮрЃфрЃћрЃАрЃў рЃюрЃћрЃџрЃљ рЃ«рЃЊрЃћрЃЉрЃљ (~1000 ns).  
рЃљрЃЏрЃўрЃбрЃЮрЃЏ рЃЉрЃћрЃЋрЃарЃў syscall (рЃЏрЃљрЃњ. networking heavy apps) рЃљрЃЏрЃфрЃўрЃарЃћрЃЉрЃА рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃўрЃБрЃџрЃЮрЃЉрЃљрЃА.

­ЪЉЅ Docker/VM рЃЮрЃърЃбрЃўрЃЏрЃўрЃќрЃљрЃфрЃўрЃљ рЃ«рЃерЃўрЃарЃљрЃЊ рЃЏрЃўрЃЏрЃљрЃарЃЌрЃБрЃџрЃўрЃљ рЃАрЃгрЃЮрЃарЃћрЃЊ syscall latency-рЃА рЃерЃћрЃАрЃљрЃЏрЃфрЃўрЃарЃћрЃЉрЃџрЃљрЃЊ.

---

## ­ЪДа рЃерЃћрЃ»рЃљрЃЏрЃћрЃЉрЃљ

|рЃфрЃюрЃћрЃЉрЃљ|рЃљрЃдрЃгрЃћрЃарЃљ|
|---|---|
|**Kernel Mode**|CPU-рЃўрЃА рЃърЃарЃўрЃЋрЃўрЃџрЃћрЃњрЃўрЃарЃћрЃЉрЃБрЃџрЃў рЃЊрЃЮрЃюрЃћ (ring 0), рЃАрЃљрЃЊрЃљрЃф рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА OS рЃЉрЃўрЃарЃЌрЃЋрЃў|
|**User Mode**|рЃЕрЃЋрЃћрЃБрЃџрЃћрЃЉрЃарЃўрЃЋрЃў рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃћрЃЉрЃўрЃА рЃЊрЃЮрЃюрЃћ (ring 3)|
|**System Call**|рЃЎрЃЮрЃюрЃбрЃарЃЮрЃџрЃўрЃарЃћрЃЉрЃБрЃџрЃў рЃерЃћрЃАрЃЋрЃџрЃљ Kernel-рЃерЃў|
|**Context Switch**|User Рєћ Kernel рЃњрЃљрЃЊрЃљрЃАрЃЋрЃџрЃљ|
|**Security Boundary**|рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃљрЃЏ рЃЋрЃћрЃа рЃерЃћрЃћрЃ«рЃћрЃЉрЃљ Kernel-рЃА рЃърЃўрЃарЃЊрЃљрЃърЃўрЃа|

---

­ЪДЕ **рЃАрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃЮ рЃцрЃљрЃЦрЃбрЃў:**  
Linux-рЃерЃў рЃерЃћрЃњрЃўрЃФрЃџрЃўрЃљ рЃЊрЃљрЃўрЃюрЃљрЃ«рЃЮ, рЃарЃљрЃЏрЃЊрЃћрЃю system call-рЃА рЃљрЃЎрЃћрЃЌрЃћрЃЉрЃА рЃерЃћрЃюрЃў рЃърЃарЃЮрЃњрЃарЃљрЃЏрЃљ:

```bash
strace ./myapp
```

рЃћрЃА рЃљрЃЕрЃЋрЃћрЃюрЃћрЃЉрЃА рЃДрЃЋрЃћрЃџрЃљ Kernel рЃќрЃљрЃарЃА (`open`, `read`, `write`, `close`, Рђд).

---

