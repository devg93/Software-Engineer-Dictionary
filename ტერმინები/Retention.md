αƒ«αƒαƒαƒαƒαƒ αƒ™αƒαƒ αƒ’αƒ αƒ™αƒαƒ—αƒ®αƒ•αƒ β€” αƒ΅αƒαƒΆαƒ§αƒ•αƒ **β€retentionβ€** αƒ®αƒ¨αƒαƒ αƒαƒ“ αƒ’αƒ•αƒ®αƒ•αƒ“αƒ”αƒ‘αƒ αƒ΅αƒ®αƒ•αƒαƒ“αƒαƒ΅αƒ®αƒ•αƒ αƒ™αƒαƒαƒΆαƒ”αƒ¥αƒ΅αƒΆαƒ¨αƒ (.NET-αƒ¨αƒαƒ αƒ“αƒ αƒ–αƒαƒ’αƒαƒ“αƒαƒ“ IT-αƒ¨αƒ), αƒ“αƒ αƒ›αƒαƒαƒ¨αƒ•αƒαƒ”αƒαƒαƒ‘αƒ αƒαƒαƒ•αƒαƒ”αƒ‘αƒ αƒ™αƒαƒαƒΆαƒ”αƒ¥αƒ΅αƒΆαƒαƒ΅ αƒ›αƒαƒ®αƒ”αƒ“αƒ•αƒαƒ—.  
αƒ’αƒαƒ•αƒαƒ αƒ©αƒ”αƒ•αƒ— αƒ§αƒ•αƒ”αƒαƒαƒ–αƒ” αƒ’αƒαƒ›αƒαƒ§αƒ”αƒαƒ”αƒ‘αƒαƒ“ αƒ›αƒαƒαƒ¨αƒ•αƒαƒ”αƒαƒαƒ‘αƒ”αƒ‘αƒ΅ π‘‡

---

## π”Ή αƒ–αƒαƒ’αƒαƒ“αƒ αƒ›αƒαƒαƒ¨αƒ•αƒαƒ”αƒαƒαƒ‘αƒ

**Retention** αƒαƒαƒ¨αƒαƒαƒ•αƒ΅ β€αƒ¨αƒ”αƒαƒαƒ αƒ©αƒ£αƒαƒ”αƒ‘αƒαƒ΅β€, β€αƒ“αƒαƒ›αƒαƒ®αƒ΅αƒαƒ•αƒ αƒ”αƒ‘αƒαƒ΅β€ αƒαƒ β€αƒ“αƒαƒ™αƒαƒ•αƒ”αƒ‘αƒαƒ΅β€.  
αƒαƒαƒ£ β€” **αƒ αƒαƒ›αƒ“αƒ”αƒ αƒ®αƒαƒαƒ΅ αƒ•αƒαƒαƒαƒ®αƒαƒ•αƒ— αƒαƒ αƒ•αƒαƒαƒαƒ αƒ©αƒ£αƒαƒ”αƒ‘αƒ— αƒ αƒαƒ¦αƒαƒαƒαƒ΅** (αƒ›αƒαƒαƒαƒαƒ”αƒ›αƒ΅, αƒαƒαƒ’αƒ΅, αƒ¤αƒαƒαƒαƒ΅, αƒ›αƒαƒ›αƒ®αƒ›αƒαƒ αƒ”αƒ‘αƒ”αƒαƒ΅ αƒ“αƒ αƒ.αƒ¨.)

---

## π”Έ αƒαƒ αƒαƒ’αƒ αƒαƒ›αƒαƒ αƒ”αƒ‘αƒαƒ¨αƒ / αƒαƒαƒ¤αƒ αƒαƒ΅αƒΆαƒ αƒ£αƒ¥αƒΆαƒ£αƒ αƒαƒ¨αƒ

|αƒ΅αƒ¤αƒ”αƒ αƒ|Retention-αƒαƒ΅ αƒ›αƒαƒαƒ¨αƒ•αƒαƒ”αƒαƒαƒ‘αƒ|
|---|---|
|**Logs / Monitoring**|αƒ αƒαƒ›αƒ“αƒ”αƒ αƒ®αƒαƒαƒ΅ αƒαƒαƒαƒ®αƒ”αƒ‘αƒ αƒαƒαƒ’αƒ”αƒ‘αƒ. αƒ›αƒαƒ’αƒαƒαƒαƒ—αƒαƒ“: β€log retention = 30 daysβ€ β†’ 30 αƒ“αƒ¦αƒαƒ΅ αƒ¨αƒ”αƒ›αƒ“αƒ”αƒ’ αƒαƒαƒ’αƒ”αƒ‘αƒ αƒ¬αƒαƒαƒ¨αƒαƒ”αƒ‘αƒ.|
|**Database / Backup**|αƒ αƒαƒ›αƒ“αƒ”αƒ αƒ®αƒαƒαƒ΅ αƒαƒαƒαƒ®αƒ”αƒ‘αƒ αƒ‘αƒ”αƒ¥αƒαƒ¤αƒ αƒαƒ αƒ«αƒ•αƒ”αƒαƒ αƒ©αƒαƒαƒαƒ¬αƒ”αƒ αƒ”αƒ‘αƒ. β€Backup retention policy = 7 daysβ€.|
|**Queue / Outbox / Event Store**|αƒ αƒαƒ›αƒ“αƒ”αƒ αƒ®αƒαƒαƒ΅ αƒαƒαƒαƒ®αƒ”αƒ‘αƒ αƒ¨αƒ”αƒΆαƒ§αƒαƒ‘αƒαƒαƒ”αƒ‘αƒ”αƒ‘αƒ, αƒ΅αƒαƒαƒαƒ› αƒ¬αƒαƒαƒ¨αƒαƒ”αƒ‘αƒ (e.g. Kafka retention = 3 days).|
|**Cache / Redis**|αƒ αƒαƒ›αƒ“αƒ”αƒ αƒ®αƒαƒαƒ΅ αƒ£αƒαƒ“αƒ αƒαƒ§αƒαƒ΅ αƒ™αƒ”αƒ¨αƒ αƒαƒαƒαƒ®αƒαƒαƒ (TTL β€” Time To Live).|
|**User Retention (Product metric)**|αƒ›αƒαƒ›αƒ®αƒ›αƒαƒ αƒ”αƒ‘αƒ”αƒαƒ—αƒ αƒ“αƒαƒ‘αƒ αƒ£αƒαƒ”αƒ‘αƒαƒ΅ αƒ›αƒαƒ©αƒ•αƒ”αƒαƒ”αƒ‘αƒ”αƒαƒ β€” αƒ αƒαƒ›αƒ“αƒ”αƒαƒ αƒ›αƒαƒ›αƒ®αƒ›αƒαƒ αƒ”αƒ‘αƒ”αƒαƒ αƒ‘αƒ αƒ£αƒαƒ“αƒ”αƒ‘αƒ αƒ’αƒαƒαƒ›αƒ”αƒαƒ αƒ”αƒ‘αƒαƒ—.|

---

## π”Έ Transaction Retention (.NET / EF Core context-αƒ¨αƒ)

αƒ αƒαƒαƒ αƒ•αƒαƒ›αƒ‘αƒαƒ‘ **β€transaction retentionβ€**, αƒαƒ¥ αƒαƒ’αƒ£αƒαƒαƒ΅αƒ®αƒ›αƒ”αƒ‘αƒ, αƒ αƒαƒ›:

> αƒΆαƒ αƒαƒαƒ–αƒαƒ¥αƒαƒαƒ αƒ¨αƒ”αƒαƒαƒ αƒ©αƒ£αƒαƒ”αƒ‘αƒ£αƒαƒαƒ retry-αƒαƒ΅ αƒ“αƒ αƒαƒ΅.

αƒαƒαƒ£ ExecutionStrategy (retry αƒ›αƒ”αƒ¥αƒαƒαƒαƒ–αƒ›αƒ) αƒαƒαƒαƒ•αƒ΅ αƒαƒ›αƒαƒ΅, αƒ αƒαƒ› αƒ αƒαƒ“αƒ”αƒ΅αƒαƒ `SaveChangesAsync()` αƒ©αƒαƒ•αƒαƒ αƒ“αƒ”αƒ‘αƒ,  
EF αƒ—αƒ•αƒαƒ—αƒαƒ **αƒ’αƒαƒαƒ£αƒ¥αƒ›αƒ”αƒ‘αƒ΅ αƒ«αƒ•αƒ”αƒ αƒΆαƒ αƒαƒαƒ–αƒαƒ¥αƒαƒαƒαƒ΅** αƒ“αƒ αƒαƒ®αƒαƒαƒ΅ αƒ¨αƒ”αƒ¥αƒ›αƒαƒαƒ΅ retry-αƒαƒ΅αƒαƒ΅.  
αƒ”αƒ΅ αƒαƒ αƒαƒ΅ transaction retention (αƒαƒ αƒ£αƒ™αƒ”αƒ—αƒ”αƒ΅αƒαƒ“: _transaction re-creation consistency_).

αƒ¨αƒ”αƒαƒ—αƒαƒ αƒ αƒαƒαƒ αƒ•αƒ—αƒ¥αƒ•αƒ β€αƒ—αƒ£ transaction retention-αƒαƒ΅αƒ—αƒ•αƒαƒ΅ αƒαƒ§αƒ”αƒαƒ”αƒ‘, αƒ“αƒαƒΆαƒαƒ•αƒ”β€, αƒ•αƒ’αƒ£αƒαƒαƒ΅αƒ®αƒ›αƒαƒ‘αƒ“αƒ:  
αƒ—αƒ£ αƒ¨αƒ”αƒ αƒ®αƒ”αƒαƒαƒ— αƒαƒ¬αƒ§αƒ”αƒ‘ transaction-αƒ΅ (`BeginTransactionAsync()`), αƒ¨αƒ”αƒ αƒ—αƒ•αƒαƒ—αƒαƒ αƒαƒ™αƒαƒαƒΆαƒ αƒαƒαƒ”αƒ‘ αƒ αƒαƒ’αƒαƒ  β€αƒ¨αƒ”αƒαƒαƒ αƒ©αƒ£αƒαƒ“αƒ”αƒ΅β€ αƒαƒ΅ retry αƒαƒ“αƒ”αƒ‘αƒαƒ΅αƒαƒ΅.

---

## π”Έ αƒ›αƒαƒ’αƒαƒαƒαƒ—αƒ EF Retry-αƒ΅αƒ—αƒαƒ

```csharp
var strategy = context.Database.CreateExecutionStrategy();

await strategy.ExecuteAsync(async () =>
{
    using var transaction = await context.Database.BeginTransactionAsync();

    // transactional operations
    await context.SaveChangesAsync();

    await transaction.CommitAsync();
});
```

αƒαƒ¥ **retention** αƒαƒαƒ¨αƒαƒαƒ•αƒ΅, αƒ αƒαƒ› transaction scope αƒ¨αƒ”αƒαƒαƒ αƒ©αƒ£αƒαƒ”αƒ‘αƒ£αƒαƒαƒ retry-αƒαƒ΅ αƒ¤αƒαƒ αƒ’αƒαƒ”αƒ‘αƒ¨αƒ β€”  
αƒ—αƒ£ EF αƒαƒ΅αƒ”αƒ• retry-αƒ–αƒ” αƒ¬αƒαƒ•αƒ, transaction αƒ—αƒαƒ•αƒαƒ“αƒαƒ αƒαƒαƒ’αƒ”αƒ‘αƒ αƒαƒ’αƒαƒ•αƒ” consistency-αƒ—αƒ.

---

## π§  αƒ›αƒαƒ™αƒαƒ”αƒ“

|αƒ™αƒαƒαƒΆαƒ”αƒ¥αƒ΅αƒΆαƒ|Retention αƒαƒαƒ¨αƒαƒαƒ•αƒ΅|
|---|---|
|Logging|αƒ αƒαƒ›αƒ“αƒ”αƒαƒ αƒ®αƒαƒαƒ αƒαƒαƒαƒ®αƒ”αƒ‘αƒ αƒαƒαƒ’αƒ”αƒ‘αƒ|
|Backup|αƒ αƒαƒ›αƒ“αƒ”αƒαƒ αƒ®αƒαƒαƒ αƒαƒαƒαƒ®αƒ”αƒ‘αƒ αƒ‘αƒ”αƒ¥αƒαƒ¤αƒ”αƒ‘αƒ|
|Cache / Redis|αƒ αƒαƒ›αƒ“αƒ”αƒ αƒ®αƒαƒαƒ΅ αƒ›αƒαƒ¥αƒ›αƒ”αƒ“αƒ”αƒ‘αƒ΅ TTL|
|EF Transaction|retry-αƒαƒ΅αƒαƒ΅ αƒΆαƒ αƒαƒαƒ–αƒαƒ¥αƒαƒαƒαƒ΅ αƒ¨αƒ”αƒαƒαƒ αƒ©αƒ£αƒαƒ”αƒ‘αƒ|
|Product metric|αƒ›αƒαƒ›αƒ®αƒ›αƒαƒ αƒ”αƒ‘αƒαƒαƒ΅ αƒ“αƒαƒ‘αƒ αƒ£αƒαƒ”αƒ‘αƒαƒ΅ αƒ“αƒαƒαƒ”|

---

αƒ—αƒ£ αƒ’αƒαƒαƒ“αƒ, αƒ¨αƒ”αƒ›αƒαƒ«αƒαƒαƒ αƒ“αƒαƒ’αƒαƒ¬αƒ”αƒ αƒ αƒ›αƒαƒ™αƒαƒ” αƒ›αƒαƒ’αƒαƒαƒαƒ—αƒ”αƒ‘αƒ αƒ—αƒαƒ—αƒαƒ”αƒ£αƒαƒ αƒΆαƒαƒαƒαƒ΅αƒ—αƒ•αƒαƒ΅ β€”  
αƒ›αƒαƒ’αƒαƒαƒαƒ—αƒαƒ“ αƒ αƒαƒ’αƒαƒ  αƒ™αƒ”αƒ—αƒ“αƒ”αƒ‘αƒ **log retention**, **backup retention**, αƒαƒ **Kafka retention** C#-αƒ¨αƒ.  
αƒ’αƒαƒαƒ“αƒ αƒαƒ΅αƒ” αƒ“αƒαƒ•αƒ§αƒαƒ— αƒαƒ αƒαƒ¥αƒΆαƒαƒ™αƒ£αƒαƒ αƒ›αƒαƒ’αƒαƒαƒαƒ—αƒ”αƒ‘αƒαƒ“?